@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

@layer utilities {
  .copyleft {
    display: inline-block;
    transform: scaleX(-1);
  }
}

@font-face {
  font-family: "RedHatTextVar";
  src: url("/fonts/subset/RedHatTextVarLatinSubsetBasic.woff2") format("woff2-variations");
  font-weight: 400 700;
  font-display: swap;
}

@font-face {
  font-family: "RemiliaMincho";
  src: url("/fonts/RemiliaMincho-Regular.otf") format("opentype");
  font-weight: 400;
  font-display: swap;
}

body {
  font-family: "RedHatTextVar", var(--font-geist-sans), sans-serif;
}

.font-remilia {
  font-family: "RemiliaMincho", serif;
}

.bg-tartan-blur {
  background-image: url('/patterns/remiliatartan.jpeg');
  background-size: 250px;
  filter: blur(15px);
  opacity: 0.35;
}

/* Loader keyframes */
@keyframes fillBar {
  0% { width: 0%; }
  100% { width: 100%; }
}

.animate-loader {
  animation: fillBar 1s forwards ease-out;
}

@media (prefers-reduced-motion: reduce) {
  .animate-loader {
    animation: none;
    width: 100%;
  }
}

/* NProgress overrides */
@import "nprogress/nprogress.css";

#nprogress {
  pointer-events: none;
}

#nprogress .bar {
  background: #B71E34 !important;
  height: 3px !important;
}

#nprogress .peg {
  box-shadow: none !important;
}

@media (prefers-reduced-motion: reduce) {
  #nprogress .bar {
    transition: none !important;
  }
}

/* Link underline slide animation */
a.link-underline {
  position: relative;
  text-decoration: none;
}

a.link-underline::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: 0;
  width: 0%;
  height: 1px;
  background: currentColor;
  transition: width 0.25s ease;
}

a.link-underline:hover::after {
  width: 100%;
}

@media (prefers-reduced-motion: reduce) {
  a.link-underline::after {
    transition: none;
  }
}

/* Prism â€” Solarized Dark variant */
pre[class*="language-"] {
  @apply rounded-md p-4 overflow-x-auto text-sm leading-relaxed font-mono;
  background: #002b36; /* base03 */
  color: #839496;     /* base0  */
}

/* Tokens */
.token.comment, .token.prolog, .token.doctype, .token.cdata {
  color: #586e75; /* base01 */
}
.token.punctuation { color: #93a1a1; }
.token.property, .token.tag, .token.constant, .token.symbol, .token.deleted {
  color: #dc322f; /* red */
}
.token.boolean, .token.number { color: #d33682; /* magenta */ }
.token.selector, .token.attr-name, .token.string, .token.char, .token.builtin, .token.inserted {
  color: #2aa198; /* cyan */
}
.token.operator, .token.entity, .token.url, .language-css .token.string, .style .token.string, .token.variable {
  color: #cb4b16; /* orange */
}
.token.atrule, .token.attr-value, .token.function, .token.class-name {
  color: #268bd2; /* blue */
}
.token.keyword { color: #859900; /* green */ }
.token.regex, .token.important {
  color: #b58900; /* yellow */
}
.token.bold { font-weight: bold; }
.token.italic { font-style: italic; }
.token.entity { cursor: help; }

/* Embed code block within prose */
@layer utilities {
  .prose :where(pre):not(:where([class~="not-prose"] *)) {
    @apply my-6;
  }
}
